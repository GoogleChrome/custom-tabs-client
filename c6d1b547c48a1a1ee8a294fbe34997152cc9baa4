{
  "comments": [
    {
      "key": {
        "uuid": "c83b1fa8_9659d65c",
        "filename": "customtabs/src/android/support/customtabs/trusted/TrustedWebActivityBuilder.java",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "Shouldn\u0027t the navigation bar colour be part of the colour scheme?",
      "range": {
        "startLine": 61,
        "startChar": 37,
        "endLine": 61,
        "endChar": 58
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cf89b3cf_f831efc1",
        "filename": "customtabs/src/android/support/customtabs/trusted/TrustedWebActivityBuilder.java",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "This follows the CustomTabsIntent api. There was a discussion about this in the design doc for color scheme params: https://docs.google.com/document/d/13m00cZlZ-d-L8prIZ4sy9sZIND1SAicz3m9FXTsxY4Y",
      "parentUuid": "c83b1fa8_9659d65c",
      "range": {
        "startLine": 61,
        "startChar": 37,
        "endLine": 61,
        "endChar": 58
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f4b63f4_57ef93c2",
        "filename": "customtabs/src/android/support/customtabs/trusted/TrustedWebActivityBuilder.java",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-02T16:40:42Z",
      "side": 1,
      "message": "Judging by that discussion it\u0027s basically just that we wanted to keep the API as small as possible. I\u0027m thinking now that anything that could be conceivably tied to whether the app is in dark mode should be - we still have things like CustomTabsIntent.Builder#setToolbarColor for legacy reasons, but really everything should be in CustomTabsColorSchemeParams.",
      "parentUuid": "cf89b3cf_f831efc1",
      "range": {
        "startLine": 61,
        "startChar": 37,
        "endLine": 61,
        "endChar": 58
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cab4b2ab_18879d0f",
        "filename": "customtabs/src/android/support/customtabs/trusted/TrustedWebActivityBuilder.java",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "I know you\u0027ve linked to it transitively, but could you mention COLOR_SCHEME_DARK and COLOR_SCHEME_LIGHT here too? It\u0027s annoying we can\u0027t use @IntDefs in AndroidX.",
      "range": {
        "startLine": 69,
        "startChar": 7,
        "endLine": 69,
        "endChar": 12
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ea9266d_807c5172",
        "filename": "customtabs/src/android/support/customtabs/trusted/TrustedWebActivityBuilder.java",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cab4b2ab_18879d0f",
      "range": {
        "startLine": 69,
        "startChar": 7,
        "endLine": 69,
        "endChar": 12
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6637e5f_34581b29",
        "filename": "customtabs/src/android/support/customtabs/trusted/Utils.java",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "@ColorInt here (and a couple of other places)?",
      "range": {
        "startLine": 34,
        "startChar": 64,
        "endLine": 34,
        "endChar": 67
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5feed3a7_623edb32",
        "filename": "customtabs/src/android/support/customtabs/trusted/Utils.java",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d6637e5f_34581b29",
      "range": {
        "startLine": 34,
        "startChar": 64,
        "endLine": 34,
        "endChar": 67
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b419bdda_1ba55546",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/PwaWrapperSplashScreenStrategy.java",
        "patchSetId": 2
      },
      "lineNbr": 173,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "I feel that setNavigationBarColor should include the shouldUseDarkIconsOnBackground and setDarkNavigationBarIcons logic - I can\u0027t see a reason to have them separate (same for setStatusBarColor below).",
      "range": {
        "startLine": 173,
        "startChar": 22,
        "endLine": 173,
        "endChar": 47
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2628cfb_7a4582dc",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/PwaWrapperSplashScreenStrategy.java",
        "patchSetId": 2
      },
      "lineNbr": 173,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b419bdda_1ba55546",
      "range": {
        "startLine": 173,
        "startChar": 22,
        "endLine": 173,
        "endChar": 47
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2fb7d990_f7962289",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-06-27T17:14:28Z",
      "side": 1,
      "message": "It\u0027s unfortunate to have to do this hackery. Any ideas how to simplify the situation are welcome.",
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba932cdf_169a6e0c",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "I\u0027m unsure why you\u0027re returning the toolbar colour here - if the builder contains a status bar colour, shouldn\u0027t we just use that? The toolbar colour (which is subject to the current colour scheme) is what is shown when off origin, whereas the status bar colour is shown on origin (which we would assume is what the first page is going to be).\n\nI think the status bar colour could also be dependent on the colour scheme (as I guess the splashscreen resources could be), but the toolbar colour should overrule it.",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fcf6fcad_46f7fbf7",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "We don\u0027t have status bar color as a separate parameter right now. The builder stores \"plain\" CustomTabColorSchemeParams objects which have no params.statusBarColor field.",
      "parentUuid": "ba932cdf_169a6e0c",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03772846_020b1f2c",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-02T16:40:42Z",
      "side": 1,
      "message": "We have builder.getStatusBarColor() on line 43.\n\nSay the developer sets the TWABuilder\u0027s status bar colour to red and the toolbar colour to blue, then:\n - On Chrome pre-dark mode, the status bar colour is red.\n - On Chrome with dark mode, the status bar colour is blue.\n\nIn both of these cases we should pick blue (since that\u0027s what the TWA will have as the status bar colour).",
      "parentUuid": "fcf6fcad_46f7fbf7",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d38b424_3dbde3cb",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T17:16:22Z",
      "side": 1,
      "message": "builder.getStatusBarColor() returns the toolbar color. builder.setStatusBarColor() is just a proxy for CustomTabIntent.Builder#setToolbarColor().\n\nThere is no separate status bar color. So I\u0027m not sure what you mean by \"the developer sets the TWABuilder\u0027s status bar colour to red and the toolbar colour to blue\". If the blue toolbar color is in ColorSchemeParams, then the behavior you described is expected. Old Chrome can\u0027t pick blue, it doesn\u0027t know about scheme-specific parameters.",
      "parentUuid": "03772846_020b1f2c",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62676bb8_d8904207",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-03T10:13:58Z",
      "side": 1,
      "message": "Ah OK - I think that\u0027s the bit of info I was missing. That is somewhat confusing.\n\nIt seems fine for a Custom Tab intent to not have the concept of a status bar colour because they can\u0027t change it, but with TWAs we\u0027ve now got two different things that we\u0027re tying together.\n\nSo there\u0027s no way for a TWA to set different status bar colour (which will be used on the trusted origin) and toolbar colour (which will be used off the trusted origin)?",
      "parentUuid": "4d38b424_3dbde3cb",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c96b1b1_a8597d80",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-03T10:38:09Z",
      "side": 1,
      "message": "There is no way to make them different via intent parameters. \nHowever, after your change TWAs also take website\u0027s theme color into account. So you can have blue status bar on verified origin and red status bar and toolbar off verified origin.",
      "parentUuid": "62676bb8_d8904207",
      "range": {
        "startLine": 40,
        "startChar": 31,
        "endLine": 40,
        "endChar": 43
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40177cf3_47f75617",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "Are we expecting any browsers to be able to support alpha in the statusbar/navbar? I\u0027m guessing not. In that case shouldn\u0027t this logic be in the TWABuilder/CustomTabColorScheme?",
      "range": {
        "startLine": 45,
        "startChar": 24,
        "endLine": 45,
        "endChar": 57
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b0c57ef_14cd5a91",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "40177cf3_47f75617",
      "range": {
        "startLine": 45,
        "startChar": 24,
        "endLine": 45,
        "endChar": 57
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fff8c16a_6b6f1148",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "We\u0027re diverging a bit from what we were doing with the CustomTabColorSchemeParams where we set the params for LIGHT and DARK and then set the color scheme. Here the TWABuilder can have params for LIGHT and DARK and UNSUPPORTED.\n\nWe should get rid of TWABuilder#setNavigationBarColor and instead just set it through the ColorSchemeParams.",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10c9ec9a_a63b60f0",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "I\u0027m not sure how are we diverging: TWABuilder api follows the CustomTabIntent.Builder api, where there is a stand-alone CustomTabIntent.Builder#setFooColor in addition to CustomTabColorSchemeParams.Builder#setFooColor.",
      "parentUuid": "fff8c16a_6b6f1148",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94bbf8cd_631b3703",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-02T16:40:42Z",
      "side": 1,
      "message": "In the API usage examples for your doc [1] you show that the desired usage for CustomTabsIntentBuilder API is:\n\n        new CustomTabsIntent.Builder()\n                .setColorScheme(COLOR_SCHEME_SYSTEM)\n                .setColorSchemeParams(COLOR_SCHEME_LIGHT, lightSchemeParams)\n                .setColorSchemeParams(COLOR_SCHEME_DARK, darkSchemeParams)\n                .build()\n                .launchUrl(context, url);\n\nWith this code, it looks like the TWABuilder API would be\n\n       new TrustedWebActivityBuilder()\n                .setNavigationBarColor(lightSchemeColor)\n                .setColorSchemeParams(COLOR_SCHEME_LIGHT, lightSchemeParams)\n                .setColorSchemeParams(COLOR_SCHEME_DARK, darkSchemeParams)\n                .launchActivity(...)\n\nIt\u0027s the second line where there\u0027s an inconsistency, that we have to set a default colour in case the provide doesn\u0027t support themes (which we handle gracefully with Custom Tabs). I know that CustomTabIntent.Builder#setToolbarColor exists, but that\u0027s a legacy method (and I think we should deprecate it).\n\n[1]: https://docs.google.com/document/d/13m00cZlZ-d-L8prIZ4sy9sZIND1SAicz3m9FXTsxY4Y/edit#",
      "parentUuid": "10c9ec9a_a63b60f0",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f8c99a6_d30a209e",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T17:16:22Z",
      "side": 1,
      "message": "There is a section \"should we deprecate the old methods\" in the doc. It\u0027s not just about compatibility. If an app developer doesn\u0027t care about color schemes, they shouldn\u0027t have to pass the same set of parameters for each scheme. It\u0027s much better if in that case they don\u0027t have to touch the color scheme api at all.",
      "parentUuid": "94bbf8cd_631b3703",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4ed3d79_20cfd92f",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T18:40:40Z",
      "side": 1,
      "message": "Added a few more examples to the doc.",
      "parentUuid": "5f8c99a6_d30a209e",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "760809a3_81695e2f",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-03T10:13:58Z",
      "side": 1,
      "message": "What I\u0027m getting confused with is the spread of the colour scheme logic across CustomTabsIntent and TrustedWebActivityBuilder. It\u0027s annoying that we don\u0027t take the CustomTabsSession in TWABuilder\u0027s constructor and then it can just contain a CustomTabsIntent.Builder and forward setNavigationBarColor, setColorScheme, setColorSchemeParams to it.\n\nIf the developer calls TWABuilder#setNavigationBarColor(red) and does nothing with colour schemes:\n\nIf the provider doesn\u0027t support colour schemes, we get red.\nIf the provider does support colour schemes we call getColorSchemeParams, which is null",
      "parentUuid": "d4ed3d79_20cfd92f",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "223da1a4_c00db41d",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 64,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-03T10:38:09Z",
      "side": 1,
      "message": "\u003e  It\u0027s annoying that we don\u0027t take the CustomTabsSession in TWABuilder\u0027s constructor.\n\nThis actually makes things more flexible: we can collect the parameters before establishing service connection. This helped me do design the TwaLauncher api. If you look at the current code in LauncherActivity, you\u0027ll see that passing the session through constructor wouldn\u0027t work.\n\nTo achieve simple forwarding from TwaBuilder to CustomTabIntent.Builder, I\u0027d go in the opposite direction: move CustomTabSession from CustomTabIntent.Builder constructors into a setSession method. Don\u0027t really see why it shouldn\u0027t be a usual setter. This of course can be done in backward-compatible way as well.\n\n\u003e If the developer calls TWABuilder#setNavigationBarColor(red) and does nothing with colour schemes:\nIf the provider doesn\u0027t support colour schemes, we get red.\nIf the provider does support colour schemes we call getColorSchemeParams, which is null\n\nNo, actually if the provider supports colour schemes it will pick the default parameter if there is no scheme-specific one. See CustomTabIntent#getColorSchemeParams, which providers are supposed to use. So in your example, it\u0027s going to be red in both cases.",
      "parentUuid": "760809a3_81695e2f",
      "range": {
        "startLine": 64,
        "startChar": 32,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84720387_2cf0c48d",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-06-27T17:14:28Z",
      "side": 1,
      "message": "This is a fail :(\nI even wonder if it\u0027s not too late to add the category and cherry-pick into 76.",
      "range": {
        "startLine": 95,
        "startChar": 11,
        "endLine": 95,
        "endChar": 40
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e9a02b2_b1a6b1ad",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2019-07-01T10:11:03Z",
      "side": 1,
      "message": "Cherry picking into 76 seems a bit extreme as it\u0027s already in Beta. We should definitely add this for 77 though.\n\nWe already have similar hacky code (before the TWA category was added) so I\u0027m not too bothered by this (with a TODO to remove in a few months).",
      "parentUuid": "84720387_2cf0c48d",
      "range": {
        "startLine": 95,
        "startChar": 11,
        "endLine": 95,
        "endChar": 40
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d5306c4d_b3673f57",
        "filename": "customtabs/src/android/support/customtabs/trusted/splashscreens/SystemBarColorPredictionUtils.java",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1297953
      },
      "writtenOn": "2019-07-02T13:19:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5e9a02b2_b1a6b1ad",
      "range": {
        "startLine": 95,
        "startChar": 11,
        "endLine": 95,
        "endChar": 40
      },
      "revId": "c6d1b547c48a1a1ee8a294fbe34997152cc9baa4",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}