{
  "comments": [
    {
      "key": {
        "uuid": "fdfd1f04_195faac9",
        "filename": "Application/src/main/AndroidManifest.xml",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "Apparently you\u0027re not supposed to have metadata at the application level. Could you move that to the Activity (or the Service)?",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51792ea6_3306416f",
        "filename": "Application/src/main/AndroidManifest.xml",
        "patchSetId": 4
      },
      "lineNbr": 31,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fdfd1f04_195faac9",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28cabe02_aeabf20e",
        "filename": "Application/src/main/AndroidManifest.xml",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "Hum, this is not actually going to pass verification, right? :-/",
      "range": {
        "startLine": 47,
        "startChar": 36,
        "endLine": 47,
        "endChar": 51
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c478a960_3c964fb9",
        "filename": "Application/src/main/AndroidManifest.xml",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-16T17:04:01Z",
      "side": 1,
      "message": "No, however as we\u0027re explicitly registering it now, we don\u0027t actually check. That will change in the future when I add the automatic registration on Custom Tabs verification.",
      "parentUuid": "28cabe02_aeabf20e",
      "range": {
        "startLine": 47,
        "startChar": 36,
        "endLine": 47,
        "endChar": 51
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6eef8037_bdd9ca9c",
        "filename": "Application/src/main/AndroidManifest.xml",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-22T11:33:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c478a960_3c964fb9",
      "range": {
        "startLine": 47,
        "startChar": 36,
        "endLine": 47,
        "endChar": 51
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4f93785_5bfb0ed4",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2018-03-19T17:01:14Z",
      "side": 1,
      "message": "You need to catch all exceptions that can be forwarded from the client for all Binder calls. The only case where you don\u0027t AFAIK is for oneway calls.\nFor instance, as Bernhard said below, StrictMode violations are forwarded.",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "292f608b_86158ccc",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-20T14:05:38Z",
      "side": 1,
      "message": "This class and its methods are going to be used from the TrustedWebActivityServiceConnectionManager class through the execute call, which takes a Callback\u003cTrustedWebActivityService\u003e.\n\nI\u0027ve decided that I\u0027m going to let these methods throw RemoteExceptions and RuntimeExceptions so the user can catch them inside the Callback if they want. However, for robustness the execute call will catch any exceptions from the Callback and handle them.",
      "parentUuid": "b4f93785_5bfb0ed4",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75fd7088_ecc0732c",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-22T11:33:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "292f608b_86158ccc",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07a98316_46546ccd",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1132034
      },
      "writtenOn": "2018-03-19T17:01:14Z",
      "side": 1,
      "message": "What are the threading guarantees we have here for client code?\nSince this is an AIDL-based service, the calls are received on a threadpool, meaning that we have to be careful and explicit about the guarantees.",
      "range": {
        "startLine": 63,
        "startChar": 50,
        "endLine": 63,
        "endChar": 51
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cff38b96_a2f335cb",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-20T14:05:38Z",
      "side": 1,
      "message": "You\u0027re right, it\u0027s a service, meaning that its methods may be called on different threads.\n\nDo you think it\u0027s necessary to ensure the overridable methods are called on a single thread?",
      "parentUuid": "07a98316_46546ccd",
      "range": {
        "startLine": 63,
        "startChar": 50,
        "endLine": 63,
        "endChar": 51
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "528c726a_3c716744",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-22T11:33:05Z",
      "side": 1,
      "message": "I think ultimately we should warn the developers that their overrides need to be threadsafe - and if there is a need for it we can add a SingleThreadedTrustedWebActivityService subclass or something.",
      "parentUuid": "cff38b96_a2f335cb",
      "range": {
        "startLine": 63,
        "startChar": 50,
        "endLine": 63,
        "endChar": 51
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57bb25af_159e7a98",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "And you are sure the Binder thread by default has a StrictMode policy that doesn\u0027t allow disk reads?",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e506f139_cf72ce58",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-16T17:04:01Z",
      "side": 1,
      "message": "Yeah, I was getting crashes here while testing. It\u0027s definitely not the UI thread, but they have strict mode enabled.",
      "parentUuid": "57bb25af_159e7a98",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fa49b1e_d1407eaa",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T17:27:55Z",
      "side": 1,
      "message": "Oh wait, strict mode is propagated across Binder calls (and conversely strict mode violations should get propagated back to the caller), so is it possible that this was called from a thread on the *client* that happened to have strict mode on?",
      "parentUuid": "e506f139_cf72ce58",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85fe1dd8_d3773f21",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Well this is called by Chrome\u0027s UI thread where StrictMode is on.",
      "parentUuid": "8fa49b1e_d1407eaa",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64360187_a78b9569",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-19T16:50:27Z",
      "side": 1,
      "message": "Aha! So maybe we should deal with this on the Chrome side then. Changing the StrictMode policy at the call site is at least not worse than doing it here, and it gives clients the choice to just do it in the background instead (and maybe Chrome could too?).",
      "parentUuid": "85fe1dd8_d3773f21",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88594d4c_1b75e5c2",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "Nit: space before the colon.",
      "range": {
        "startLine": 85,
        "startChar": 25,
        "endLine": 85,
        "endChar": 26
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03693163_783e413d",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88594d4c_1b75e5c2",
      "range": {
        "startLine": 85,
        "startChar": 25,
        "endLine": 85,
        "endChar": 26
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "73b9699c_4210647f",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 176,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "Wait, if |provider| is null, you are going to get a NullPointerException on the next line.",
      "range": {
        "startLine": 176,
        "startChar": 22,
        "endLine": 176,
        "endChar": 37
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3d173cbe_28ab2028",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityService.java",
        "patchSetId": 4
      },
      "lineNbr": 176,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "73b9699c_4210647f",
      "range": {
        "startLine": 176,
        "startChar": 22,
        "endLine": 176,
        "endChar": 37
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "048a96fd_0c5695ba",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "Oh, you use volatile because of the double-checked lock pattern below? I would use lazy holder initialization instead.",
      "range": {
        "startLine": 81,
        "startChar": 19,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe4b02c3_ddf92e34",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-16T17:04:01Z",
      "side": 1,
      "message": "Can I use the lazy holder initialization pattern with something more complicated than just\nThing thing \u003d new Thing()?\n\nHere I\u0027ve got to call something on the context provided.",
      "parentUuid": "048a96fd_0c5695ba",
      "range": {
        "startLine": 81,
        "startChar": 19,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aafd5e3c_0dd18f5f",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T17:27:55Z",
      "side": 1,
      "message": "Oh, right. We should at least add a bunch of comments then to explain why we need this.",
      "parentUuid": "fe4b02c3_ddf92e34",
      "range": {
        "startLine": 81,
        "startChar": 19,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "960ba982_67dd0e5a",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 81,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aafd5e3c_0dd18f5f",
      "range": {
        "startLine": 81,
        "startChar": 19,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc6804e2_2c3886b8",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1116074
      },
      "writtenOn": "2018-03-30T17:41:53Z",
      "side": 1,
      "message": "I do wonder if declaring ExecutionCallback as an abstract class with a final onConnected that essentially does what you have below would be cleaner here.\n\nso the client still extends this other onConnectedForClientOrAddBetterNameHere() which gets called from the final onConnected with the try and catch (and within here we only call that). Then we create a single abstract class and that is it.\n\nHaving the two interfaces above and this wrapping logic here makes it a bit hard to read imho.",
      "range": {
        "startLine": 131,
        "startChar": 19,
        "endLine": 131,
        "endChar": 34
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7db070a7_455e07ca",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 131,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-04-17T14:10:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc6804e2_2c3886b8",
      "range": {
        "startLine": 131,
        "startChar": 19,
        "endLine": 131,
        "endChar": 34
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "021a7b1a_b9fc1231",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "This is Intent.ACTION_VIEW.",
      "range": {
        "startLine": 207,
        "startChar": 40,
        "endLine": 207,
        "endChar": 68
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f1f5107_00a1f443",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceConnectionManager.java",
        "patchSetId": 4
      },
      "lineNbr": 207,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "021a7b1a_b9fc1231",
      "range": {
        "startLine": 207,
        "startChar": 40,
        "endLine": 207,
        "endChar": 68
      },
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b21fcbda_4aebbef5",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceWrapper.java",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1001606
      },
      "writtenOn": "2018-03-16T16:20:25Z",
      "side": 1,
      "message": "Break this line?",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e39bf8f3_4d21f17e",
        "filename": "customtabs/src/android/support/customtabs/browserservices/TrustedWebActivityServiceWrapper.java",
        "patchSetId": 4
      },
      "lineNbr": 40,
      "author": {
        "id": 1149979
      },
      "writtenOn": "2018-03-19T14:52:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b21fcbda_4aebbef5",
      "revId": "8714ff7022bb1363a921b85c8a79af0709f47875",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}